macro-files :
  "src/utils/serialize-macros.stanza"
  "src/utils/rtm-utils.stanza"
  "src/ir/ir-gen-macros.stanza"

stanza-files :
  "src/ir/ir-gen-macros.stanza"
  "src/utils/serialize-macros.stanza"
  "src/ir/rtm-ir.stanza"
  "src/ir/ir-gen.stanza"
  "src/ir/ir-printer.stanza"
  "src/ir/ir-serializer.stanza"
  "src/ir/ir-reader.stanza"
  "src/ir/ir-errors.stanza"
  "src/ir/ir-utils.stanza"
  "src/utils/errors.stanza"
  "src/utils/plugins.stanza"
  "src/utils/plugins-master.stanza"
  "src/utils/plugins-slave.stanza"
  "src/utils/serialize.stanza"
  "src/utils/dlopen.stanza"
  "src/utils/rtm-utils.stanza"
  "src/utils/structures.stanza"
  "src/utils/keyed-set.stanza"
  "src/main/config.stanza"
  "src/main/param-manager.stanza"
  "src/main/errors.stanza"

external-files :
  "runtime/rtm-utils.c"

linker-flags :
  linux : "-ldl -fPIC"

compiling :
  linux :
    *.cpp : "g++ -c -O3 -fPIC {INPUT} -o {OUTPUT}"
    ("stanza-geode/geode-circle-arcs.cpp"): "g++ -c -O3 -fPIC -std=c++11 {INPUT} -o {OUTPUT}"
  os-x :
    *.cpp : "g++ -c -O3 -fPIC {INPUT} -o {OUTPUT}"
    ("stanza-geode/geode-circle-arcs.cpp"): "g++ -c -O3 -fPIC -std=c++11 {INPUT} -o {OUTPUT}"

jitpcb core :
  package: jitpcb
  stanza-files :
    "src/inputspec/input-ir.stanza"
    "src/inputspec/test-ir.stanza"    
    "src/ir/ir-lower.stanza"
    "src/ir/pin-solver.stanza"
    "src/ir/pin-state.stanza"
    "src/main/flags.stanza"
    "src/main/driver.stanza"
    "src/main/launcher.stanza"    
    "src/main/pass-manager.stanza"
    "src/main/passes.stanza"
    "src/main/jitpcb.stanza"
  
jitpcb plugin checker :
  package: rtm/ir-check
  stanza-files :
    "src/ir/ir-check.stanza"    

jitpcb plugin passes :
  package: rtm/ir-passes
  stanza-files :
    "src/ir/ir-passes.stanza"

jitpcb plugin parsers :
  package: rtm/reader-plugin
  stanza-files :
    "src/ir/reader-plugin.stanza"    

jitpcb plugin key-in :
  package: key-in
  stanza-files :
    "src/ir/key-in.stanza"